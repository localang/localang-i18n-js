/*!
 * localang v0.0.1
 * (c) Localang
 * Released under the MIT License.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("fs")):"function"==typeof define&&define.amd?define(["exports","fs"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).localang={},e.fs)}(this,(function(e,n){"use strict";var t=function(){return t=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},t.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var i=function(e,n){return void 0===n&&(n={}),e.replace(/\{(\w+)}/g,(function(e,t){return t in n?String(n[t]):e}))},r=function(){function e(){this.settings={lang:"en"},this.setSettings=this.setSettings.bind(this),this.makeI18n=this.makeI18n.bind(this)}return e.prototype.setSettings=function(e){this.settings=t(t({},this.settings),e)},e.prototype.makeI18n=function(e,n){return function(e,n,t){return function(r){var o=n[r];if(!o)return"";var s=o[e];if("object"==typeof s&&null!==s){if(!t)return s.zero;var a=Object.keys(t).find((function(e){return/^count([0-9+]?)+$/.test(e)})),u=a&&a in t&&Number(t[a])||0,f=0===u?"zero":new Intl.PluralRules(e).select(u);return i(s[f],t)}return s?i(s,t):""}}(this.settings.lang,e,n)},e}();var o,s=function(e){var i=e.keyLanguage,r=e.langs,o=e.fileExt;return{create:function(e){var s=new Set;return{CallExpression:function(e){var n,t;"name"in e.callee&&"i18n"===(null===(n=e.callee)||void 0===n?void 0:n.name)&&e.arguments.length>=1&&"Literal"===(null===(t=e.arguments[0])||void 0===t?void 0:t.type)&&"string"==typeof e.arguments[0].value&&s.add(e.arguments[0].value)},"Program:exit":function(){var a=e.filename.substring(0,e.filename.lastIndexOf(".")),u="".concat(a,".i18n.").concat(o),f=function(e){return n.existsSync(e)?JSON.parse(n.readFileSync(e,"utf8").replace(/export const keyset = |;/g,"")):{}}(u),c=t({},f);s.forEach((function(e){if(!c[e]){var n=/\bcount\d*\b/.test(e);c[e]={},r.forEach((function(t){var r=t===i?e:"";c[e][t]=n?{zero:r,one:r,two:r,few:r,many:r,other:r}:r}))}})),Object.keys(f).forEach((function(e){s.has(e)||delete c[e]})),0===Object.keys(c).length?function(e){n.existsSync(e)&&n.unlinkSync(e)}(u):function(e,t){n.writeFileSync(e,"export const keyset = ".concat(JSON.stringify(t,null,4),";\n"))}(u,c)}}}}},a=(o=new r).makeI18n,u=o.setSettings;e.createEslintPlugin=function(e){var n=void 0===e?{}:e,t=n.keyLanguage,i=void 0===t?"en":t,r=n.langs,o=void 0===r?["en"]:r,a=n.fileExt;return{configs:{generateI18nFile:[{ignores:["**/*.i18n.*"]}]},rules:{"generate-i18n-file":s({keyLanguage:i,langs:o,fileExt:void 0===a?"js":a})}}},e.makeI18n=a,e.setSettings=u}));
//# sourceMappingURL=index.umd.min.js.map
