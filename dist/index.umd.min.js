/*!
 * localang v0.0.1
 * (c) Localang
 * Released under the MIT License.
 */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("fs")):"function"==typeof define&&define.amd?define(["exports","fs"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self).localang={},n.fs)}(this,(function(n,e){"use strict";var t=function(){return t=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},t.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var i=function(n,e){return void 0===e&&(e={}),n.replace(/\{(\w+)}/g,(function(n,t){return t in e?String(e[t]):n}))},r=function(){function n(){this.settings={lang:"en"},this.setSettings=this.setSettings.bind(this),this.makeI18n=this.makeI18n.bind(this)}return n.prototype.setSettings=function(n){this.settings=t(t({},this.settings),n)},n.prototype.makeI18n=function(n,e){return function(n,e,t){return function(r){var s=e[r];if(!s)return"";var o=s[n];if("object"==typeof o&&null!==o){if(!t)return o.zero;var a=Object.keys(t).find((function(n){return/^count([0-9+]?)+$/.test(n)})),u=a&&a in t&&Number(t[a])||0,f=0===u?"zero":new Intl.PluralRules(n).select(u);return i(o[f],t)}return o?i(o,t):""}}(this.settings.lang,n,e)},n}();var s,o=function(n){var i=n.keyLanguage,r=n.langs,s=n.fileExt;return{create:function(n){var o=new Set;return{CallExpression:function(n){var e,t;"name"in n.callee&&"i18n"===(null===(e=n.callee)||void 0===e?void 0:e.name)&&1===n.arguments.length&&"Literal"===(null===(t=n.arguments[0])||void 0===t?void 0:t.type)&&"string"==typeof n.arguments[0].value&&o.add(n.arguments[0].value)},"Program:exit":function(){var a=n.filename.substring(0,n.filename.lastIndexOf(".")),u="".concat(a,".i18n.").concat(s),f=function(n){return e.existsSync(n)?JSON.parse(e.readFileSync(n,"utf8").replace(/export const keyset = |;/g,"")):{}}(u),c=t({},f);o.forEach((function(n){c[n]||(c[n]={},r.forEach((function(e){c[n][e]=e===i?n:""})))})),Object.keys(f).forEach((function(n){o.has(n)||delete c[n]})),0===Object.keys(c).length?function(n){e.unlinkSync(n)}(u):function(n,t){e.writeFileSync(n,"export const keyset = ".concat(JSON.stringify(t,null,4),";\n"))}(u,c)}}}}},a=(s=new r).makeI18n,u=s.setSettings;n.createEslintPlugin=function(n){var e=void 0===n?{}:n,t=e.keyLanguage,i=void 0===t?"en":t,r=e.langs,s=void 0===r?["en"]:r,a=e.fileExt;return{configs:{generateI18nFile:[{ignores:["**/*.i18n.*"]}]},rules:{"generate-i18n-file":o({keyLanguage:i,langs:s,fileExt:void 0===a?"js":a})}}},n.makeI18n=a,n.setSettings=u}));
//# sourceMappingURL=index.umd.min.js.map
